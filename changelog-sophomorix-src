This is the todo/changelog for the sophomorix sourcecode

############################################################
Todo
############################################################
**= this is next
* = high priority
- = do that when time comes

** include pdldap modules
   - update calls in the scripts
     still to do:
          sophomorix-class
          sophomorix-project
          sophomorix-samba (still needed ??)
          sophomorix-split


packaging:
   - Makefile creates directories with correct permissions, 
     how can I package this directories with its permissions?
   - run sophomorix-samba when installing
     (how to get the servername into sophomoeix.conf (netbios-name)??)
   - include common.bat with comments?
   - zusammenspiel mit Thomas cd
   - sophomorix-vampire version x.x braucht sophomorix2 1.2.2
     (das steht in den abhängigkeiten), falls es installiert werden soll (optional)
     andersherum braucht sophomorix-vampire dieselbe Versionsnummer von sophomorix2 
     wie macht man das?
   - sophomorix-base depends on libdbd-csv-perl
     change that to *-files or so
   -run sophomorix-setup-pgldap is not working (locking problem)
   -smbldap tools dependeny fallenlassen?

dokumentation:
   * grafik workflow aktualisieren
   * write how to test sophomorix
      - sophomorix2
      - sophomorix-doc-html
      - perldoc Sophomorix::SophpmorixAPI
   * logging   

sophomorix-repair
   * repair permissions of subclasses and projects 
   - use function create_userlist to specify users
     Call with option -l loginname should be fast (= do only this)
   * update man page
   - group owner in the home directory is lehrer (is this really good?)


sophomorix-quota
   - option --auto-setup
       makes a usable quota-system
       does what it needs to have quota enabled and working
   * option --sum still missing
   - option --school(=pupil, teacher, workstation)
     Use this option in sophomorix-passwd also?
       -> include in function create_userlist
   - check if quota isreally set (how?, grep through 'quota user' ?)
   - find users without quota, report them
   - find users that approch their quota, send mail, ...

sophomorix-teach-in (seems ok so far)

sophomorix-shell 
   - change the login-shell of a user
   - configuration files like quota
     (quota.txt, lehrer.txt, class, ...)
   - think about putting this into sophomorix-user as an option (YES)


sophomorix-check
   - what about the shell (/bin/bash) when updating from old files?
   - what about the quota  when updating from old files?
       lehrer.txt: automatically used, when copied
       quota.txt:  automatically used, when copied
       projects:   did not exist, ok
       classes:    schulinfo.txt should be copied/used to class_db
             --> check this
   - add more auto-teach-in
      - exchange of firstname and lastname should be detected automatically
   * filter out users in schueler.txt that have groupname "lehrer" or "teacher"
     for security reasons
   - add use of field 6, upload Field 6 Data automatically into database
      - add entry for every user in user_db: "Department"
      - for every department create entry in department_db
      department_ contains:
         - Name of department i.e. "Hauptschule"
         - Name String, i.e. "HS Sydney", which is used by printing things.
         - Mail suffix, i.e "hs-sydney.de" -> user@hs-sydney.de
         - short name, i.e. "hss"
         - automatisch: Schülerzahl, Klassenzahl ?????? oder besser dynamisch
         - ....
   - Format report.office with latex          
   - include filter-file for different school-administration-sofware
   - throw error, when unid is double in schueler.txt 

sophomorix-add
   - add call sophomorix-quota --noninteractive
   - add user to cyrus (dont't know how to do)
   * dont add group lehrer to class_db
   * add windows-group when unix-group is added
     Command: net groupmap ...
   - add standard linux GUI (kde3 (configurable))
   - when using -l option: login-card could not be created is missleading
     that something went wrong

sophomorix-move
   - move Data from share into home, even if 'hidden' in another owners directory
   - quick-move of a user(move user with a command, and keep him somehow out of 
     way, when calling sophomorix-move)

sophomorix-kill


sophomorix-user 
   - wenn user is activated, then add her automatically in her ExitAdminClass, 
     if she is in dachboden 
     or in the class specified by  -c class option
   - Changing a state of a user (make Permanent, Killable, ...)
     by using function create_userlist, i.e. make all pupils killable
   - option --move moves a pupil at once in the new class 
     i.e. (calls sophomorix-move -l loginname)
   - user with status U,E must not be activated?
   - option -i : shows all selected users (should be used with | less)
   - option --activatable (or -i -D -T shows info about Disabled or Tolerated users)
   - when reactivating a user, set a date in the future to keep her longer acctive 
     (optional parameter, configurable)
   - option --clean-account: remove all data from the account, without removing
     the account, password, ... itself (usefol for guest accounts)
   - option --newest shows/modifies users added on the latest day/latest run
   - nicely format (looong) modulelist, when displaying webmin info
   - without option: prnt userlist:
              num    U,E
              num    T,A
              num    ... D
              -------------
              num    total


sophomorix-split
   - interrupt if class to split is nonexistent
   - check if exchange dir is created
   - check if links are created to exchange dir
   - create commands with only the changes of users to apply. 
     ( like in sophomorix-project, use the same code?)
   - sophomorix-split options: 
        split randomly in 2,3 halves
        split half-half
        split a class into projects(is this necessary?)
   - add some show info stuff
   - add change long name of subclass
   - make sophomorix-split files-independant


sophomorix-passwd
   - generate login-cards with changed passwords automatically
     (passwd_change.pdf)
   - make this an option to sophomorix-user

sophomorix-print
   - print subclass on login-card?
   - what about projects, show project membership?
   * make configurable which print-output sophomorix-print generates 
     to save time (ps, pdf,csv,...)
   - put school-logo on login-card, watermark, ...
   - generate a onepage-printout for teachers (help, mail, webmin-login, ...)
   

sophomorix-project
   - create exchange directories automatically, when the project is created
   - option -p astro -i should display info about group astro (6users in a row, ...)
   - add status stuff/lifetime stuff to projects
      P= Permanent, will not be automatically removed
      ... see drawing in doku
      when a project is disabled:
       - no data exchange
       - no database access, ...
       - mail to project teacher
       - delete after xxx days (cron-job)
   - when killing a project: 
       - delete line
       - delete exchange dir
       - delete links from users to exchange dir
       - move data back to homedir of user?
   - check if loginname is valid before adding user to a project
   - allow teachers to add a project (if no AddQuota is involved)


sophomorix-class
   - show classes in alphabetical order (use list insted of hash, when fetching)   
   - if no class is found,-> message
   - class_db:
     Type:
       A: AdminClass (creted by schueler.txt entries)
       X: ExtraClass (created by extrakurse.txt)
       K: Killable (no users in this class anymore, can be killed)
   --kill  remove a class from database,
           delete the exchange directory
           ...


sophomorix-test
   - include reactivation by sophomrix-user -A
   - include testing the log file.
      - log in different file while testing
      - check this file for correctness
      - remove this file

sophomorix-vampire:
   * create config-files (perl-syntax):
       - list of files with abs-path to get them from old server
       - file with /path/on/old/server::/path/on/new/server
         sync them automatically

       - /usr/local/samba/progs  -> /home/samba/progs
       - /usr/local/samba/cds    -> /home/samba/cds
       - /usr/local/httpdocs     -> /var/www

   * backup /etc to /etc/sophomorix-vampire
   * backup old login scripts

   * move mail (where to?)
   - move shares
   - option for k necessary?

   - generate a log file what went wrong

   - detect if a non-teacher user has a webmin-login (write to log-file)

   - read passwords from /etc/shadow and /etc/smbpasswd
     - push them into the new accounts
       password-encrypting
       suse:   ?
       debian: md5

   - strategie for rembo:

     garbage that should not be taken to a new system

     images:
     /var/lib/myshn  /usr/local/rembo/files/global/myshn/groups
                                                         hosts
                                                         users
                                                         hdimages
                                                         nicht die patch.*
                                                         Konfigurationsdateien
                                                         Nicht: bin
     rembo beenden
     /var/lib/rembo  /usr/local/rembo/files/shared

     rembo -chkshared zeigt die zu entfernenden an     
     
     konfigurationsdaten:
     rembo.conf
     /etc/myshn ist link

    Projektgruppen nach Anleitung T.Schnitt übernehmen





sophomorix-webmin
   - totally configure webmin
   - option --noninteractive 

   ** ml_account  : Benutzerkonto  (alle user)
   ** ml_teacher  : Unterricht (alle)
   ** ml_admin    : Administration


check: is user taken out of webmin, when she is Disabled? Is this necessary or is the !-sign in /etc/shadow enough?

miniserv.users: letztes Feld : hosts von denen man zugreifen darf 


   -  Be aware: problem group student would need 1 entrys for every student 
       (this will be a very loooooooooong line)

     problem: when a module is added to webmin.users only (own script)
              then this module is NOT added to webmin.acl 
                 -> the user doesnt see this module
           better: create webmin.acl from some configuration files
                   in /usr/sbin (webmin-teacher-modules, ...-admin-, -student-)
                   which can be overwritten by files in /etc/sophomorix/webmin

   - if users are added without webmin installed, root and admin are missing
      - create root,admin, when creating files
      - or better do nothing when they dont exist


   - usermin-modules will be converted to webmin by thomas
       -> usermin is not running on the ml-server
       -> postinstall-script muss sich in gruppe student, teacher eintragen
   -abfrage in sophomorix-webmin, ob paket webmin installiert ist
 
   
sophomorix-mail
   - Eintrag der lehrer in /etc/aliases mit vorname.nachname@...
     wenn das in sophomorix.conf so steht.
     (... wird sich noch ändern (SQL))

sophomorix-teacher
  ** write new script to distribute data, collect data, ...
      --handout -i shows what to hand out
      --collect -i shows what to collect
      options --sync --copy when handing out data
      options --collect-original, --collect-copy when collecting
      --exam
   - read perlsec
   - distribute _Collect to one pupil
   - backups after rsync are temporarily owned by group 'lehrer', 
      because sophomorix does not run setgid root
     (this could cause problems, when using grpquotas (No problem now!))
   - think about copy/delete for rsync
   - how should it be managed to clear a  _Collect directory?
     (dont do this at all?)
   ** update man page

sophomorix-endofyear (new script)
   - remove content of share-directories
   - exclude classes of type extra

sophomorix-cron (new script) (runs at night)
   - zip files in /var/log/sophomorix/exam
   - update timestamps
   - run sophomorix-check ??


Functions in SophomorixBase:
   - Put Quota-functions in SophomorixQuota.pm 


SophomorixAPI: 


All Scripts:
   * convert pupil stuff to student
   - if a class is to be added and the groupname is given to a project already
     make something correct
   - remove global variable alle_verzeichnis_rechte
     (sophomorix-split needs return value, sophomorix-add not ???)
   - /home/share/tasks/dachboden is of no use?
   - remove compatibility-mode to ml 1.1.1
   - log teacher actions (sophomorix-teacher, ... to find out if a teacher 
     account is missused)
   - replace sperrklassen.txt and entfernklassen.txt with filter.txt
   - use lehrer.txt (Field: kurz RealShortName )
   - test csv-output on windows and linux
   - clear a user: (The same as clearing a workstation after the exam)
           - keep his login, passwd, homedir
           - keep entry in database
           - restore directories (sammelordner, ...)
           - restore permissions 
        but:
           - empty its home (with options)
           - delete all mail (with option)
           - delete all files in share dir (with options)
           - linux-dotfiles only (with options)

     (Status C = can be cleared, sophomorix-clear, ...)

   - read the config-files from thomas
     (file:  debconf datenbank, perl-lib zum auslesen benutzen ist dabei)
      - debconf-show linuxmuster-base
         zeigt alle werte von linuxmuster-base
      - echo get cupsys/raw-print | debconf-communicate | awk '{print $2}'
         (' ist shift-#)
         liest einzelne Werte aus

   * creating database file from sophomorix-setup-files??
       removing it from sophomorix-check??
   * remove old stuff: ${schueler_oder_user}.protokoll";
   - remove database/sys dependant code
   * set/check file-permissions at the and of each sophomorix-* run. 
   - shorter verbosity when no verbosity option is given
   * remove old subclass stuff (extrafile to specify subclass)
   * get_xxx functions of sophomorix-repair: give a international name 
     and put it to SophomorixAPI, document it with perldoc 
   - unify the options for all scripts (create rfc), where a common
     naming system is used, i.e what options are used to refer to a AdminClass:
         -c AdminClass --class AdminClass --adminclass AdminClass
         ...
   - add references to all other man pages in every man-page




postgres-integration:

        Packaging:
            - Beispielpaket für postgres: moodle, imp3
        Dependencies:
            - tho sends list of packages and config-files

        Postres:
            - modify/check /etc/postgres/pg_hba.conf
            - try to connect as user sophomorix to sophomorix
               YES:
             - dump old database, merge it
                 pg_dump sophomorix > file.sql

               NO:
               - create user sophomorix (CL S. 147) if nonexisting
                 (save password in a file, root.root 600)
               - create empty Database if nonexisting
                 create_db -T template0 sophomorix
               - insert data into sophomorix 
                 psql sophomorix < file.sql
            Questions:
            - Paswort/Access (random password/fixed password)
            - use other port than postgres standard

        LDAP:
            - Table ldap_entries with dc=xxx
            - /etc/ldap/slapd.conf
            - /etc/ldap/ldap.conf

            - pam_ldap 
            - /etc/pam_ldap.conf
            - /etc/libnss-ldap.conf
            - /etc/nssswitch.conf        
              /etc/pam.d/*

        Passwort in /etc/ldap.secret   (Zugriff 600)

        ldap:
            - user anlegen mit smbldap-useradd (statt )


        Functions in sophomorix-files.pm
            - jeffbeck comments this file and tho replaces 
              it with fuctions that read/write to postgres
            - tho adds new functions that connect/disconnect 
              to the database.
              this functions are called 
                  - at the begin of a sophomorix-script
                    (two scripts readonly read/write)
                  - at the end of a sophomorix-script

              


        Client /etc/pam/ldap



============================================================
Think about:
============================================================
   - cups 
   - moodle (add users to classes, add teachers to admins)
   - deleting /home/exams
   - restart of nscd (will nscd be running? is restart necessary)
   - use logrotate (debian/logrotate, dh_logrotate)
   - log password changes securely
   - create loginnames initial.name.birthday
     (what about changes to this data)
   - sophomorix-info for ALL users (show my account data)
   - make standard-passwort linux configurable
   - mail: experienced admins should be able to make entrys to
     /etc/aliases without being overriden
     (read aliases first, then add generated stuff)   
   - commands for every user (sophomorix-show-my account, ...)
   - creating a htmlpage with links to all usable public-html's
     (this script updates this page, whenever a teacher opens/closes a 
      users public-html)
   - quick-self-add-mode
   - Mail notification for events (i.e. new student in your class, ...) 
   - use of sperrklassen.txt or entfernen.txt (-> filter.txt)
   - think about getting user in class lists from the database
     for correction of exams, ...
   - think about lehrer.txt handling
   think about ext-lehrer (teacher fo only one class).
     probably needed for vhs-Kurse, etc., ...
   - think about: when a teacher adds/removes herself to a class, 
     add/remove her to a field in class_db
   - think about acl's and their handling in repair-directory
   - think about self adding of users
   - think about grpquota in projects
   - think about manually moving pupils in other classes
      - restrict manually moving to Permanent,Frozen?
      - manually create classes for Permanent
        or automatically create a class permanent, where all Permanent/Frozen users 
        a moved to?
        do they have an exchange directory?
   - think about file-locking (use DBD:CSV - module)
   - Think about removing ALL files of a user when she is deleted
     (find /home/share ... and kill them)
     think about renaming every file in an exchange-directory
     of a user that wil be killed shortly to
       filename.txt   -> will_be_deleted_filename.txt
   - group problems: which group should be primary group
   - easy to hook in prefilter-scripts, that are run automatically
   - create multiple project_db files ???
       1. automatically created projects:  department-spanning
       2. manually created projects by root
       3. Projects created by teachers

Administration software:
   schueler.txt:   class;lastname;firstname;birthday;unid;department;
   lehrer.txt:     class;lastname;firstname;birthday;wish-loginname

Software Vendors:
   - SPLAN
   - IBIS
   - LUSD (mandatory in Hessen, Germany)
   - Schulkartei

Samba net Befehl ansehen


CD-Installation:
  - boot with option    auto26 or expert26
  - reboot without CD
  - internal NIC: eth1
  - externel NIC  eth0
    (vmware: eth0 is the card on top: briged)
    (vmware: eth1 is the card on the bottom: host only)

vmware image:
  - add in /etc/hosts:   10.1.23.4  rix.bszleo  rix



############################################################
STANDARDS:
############################################################

Nummern für Dinge:

0 - unused
1 - highest value first (z.b admin=1, ...user=4)

Status-Tabelle:
id	short_status	long_status
-------------------------------------	
0	unknown		unknown
1	U		usable
2	E		enabled
3	T		tolerated
4	A		activated
5	S		self-activated
6	D		disabled
7	R		removeable
8	K		killable
9	F		frozen
10	P		permanent


############################################################
TESTSERVER:
############################################################

install debian sarge

install dbconfig-common 1.8.2

install sophomorix2 sophomorix-developer

  Hit RETURN to all questions

#create a user sopho with access to database ldap:
#  su postgres
#  createuser -A -D --pwprompt sopho

emacs /etc/postgres/pg_hba.conf


add before: local all postgres ident sameuser

local all postgres ident postgres   


emacs /etc/postgres/pg_ident.conf

add :   postgres   root   postgres


restart postgresql


Creating an empty database

# remove old database
psql -U postgres template1
drop database ldap;
 

createdb -U postgres ldap

createdb -U postgres --owner ldap ldap 
psql -U postgres < /usr/share/dbconfig-common/data/sophomorix-pgldap/install-admin/pgsql
                       
psql -U ldap ldap < /usr/share/dbconfig-common/data/sophomorix-pgldap/install/pgsql                       


############################################################
RELEASES:
############################################################


Bootreihenfolge:  postgres -> ldap -> samba, sonst gibts timeout
                  (mit dpkg-override samba soll 21 weden)


vorversion mit ldap: uid mit getnext uid von ldap (tut noch nicht)

endversion, die direkt in die Datenbank schreibt: in der datenbank nachschauen.



samba 3: netbios name ändern
       1. name ändern
       2. restart (samba setzt neue sid)
       2. net setlocalsid alte sid wieder setzen


phpldapadmin:

/etc/phpldapadmin/config.php : basedn und loginname(vorausfüllen)

pgphpadmin konfiguration

Update steps to postgresql-ldap

     step 1: write functions to store in postgresql 
             instead of user_db, ...
             system users still in files

     step 2: incude stuff from files (shell, homedir, ...)
      

     step 3: configure ldap to replace files
             dont add system users in files

     step 4: configure samba and fill data in it via ldap 


???? openldap 2.3.4 notwendig

??? postgres \d tabellenname

??? samba von thomas:    prepatch   templates modifizieren   postpatch

??? script sophomorix-user zum shell anpassen /bin/bash, ...

??? Backup vom svn auf lml.mine.nu nach cvs.bszleo.de
??? und andersherum


??? 2x password:  

????? next: create links in Tausch, when user is put in subclass

???? Bug: a user in dachboden is reactivated by a similar(=must be identical) 
     new user


???? *.dsc,*.tar.gz,*.changes bei sophomorix-pakete ins source Verzeichnis



SQL-DBI/OpenLDAP related:

- Performance: connect once in every script (not in every function)
- Transaction: combine inserts in create_user_entry 
- Load DBI (use:DBI;) only if necessary
- update database: combine select and updates to transaction
- NextFreeUnidId beim update ausnehmen
- add new values to users:
    status (account oder sophomorix)
    accountstatus/type

- typ sophomorixstatus,subclass: Nur 1 Buchstabe
    
- dont create /var/lib/sophomorix/database when using pgsql


- /etc/ldap/slapd.conf:  
       - add a proxy user, used by 
       - use proxy user in /etc/libnss-ldap.conf 
         (binddn, bindpw)
?? check again


- make creationdate a timestamp

- error when adding users the first time


- additional Fields for groups(and projects)

- view groupdata


-- ldapsearch -x -D "cn=admin,dc=linuxmuster,dc=de" -W
-- smbclient -U user%password -L localhost   (check smb account, see Mail Hoth)
-- smbclient -N -L localhost    (what for?)

-- pdbedit -L         all users
-- pdbedit -Lv        ausführlich alle user


1.4.5 (2005-?)



   NEXT: sophomorix-quota
         sophomorix-user -s in multiple fields
         look in SophomorixPgLdap what has to be done
           enable user
           disable user (unix: password lesen, anhängen, updaten.)
           backup_user_database
           get_first_password
           check_sophomorix_user
           show_project_list
           show_class_list
           create_project_db
           use password_charlist to limit chracters for passwords
         test login
         $server muss gepatched werden in PgLdap.pm
         smbpasswd -w server setzt ldap-password
         smbpasswd -e/-d tut, einkommentieren in Scripte
         sophomorix-move: update samba stuff in all relevant places
         make sid available in ldap
         save sid in database


   - /etc/nsswitch.conf: compat ldap for quick logins, when sldap is down
   - checked that bdb package is not needed
   - added samba fields for a working login
   - install DB_CONFIG into system, cp at setup to /var/lib/ldap
   - added tests for the correct homedirectory in sophomorix-test 
   - reformatted sophomorix-test output
   - replaced  usermod in sophomorix-move with appropriate stuff, 
     when using pgldap 
   - fixed Bug move old home to new home
   - removed errors from sophomorix-test
   - function update_user_db_entry extended to "Gid=groupname"
   - update gid when moving a user
   - create groups when adding users an group doesn't exist
   - created a salted, crypted userpassword for linux
     (checked that linux login works)
   - linux_gruppe_to_kill in sophomorix-kill is now working
   - checked that View userdata shows gid from primary group
   - moved set_sophomorix-passwd  from SophomorixBase nach Files and Ldap modules
   - wrote new function set_sophomorix-passwd for postgres 
   - print sql commands on console only in logleve 3 (-vv)
   - added a teacher to sophomorix-test
   - sophomorix-test leaves database without modifications (still to test)
   - sophomorix-kill removes users (not homedir)
   - function to killl a user in database and pgldap-module
   - test for Bugfixes:
      - update unid at once, when user reappears with unid
      - delete unid, when user disappears in files or unid is empty   
   - added creation af passwords, still to check, if they work
   - added principal support for samba_sam_account table (fields still empty)
   - delete unid from sys, when entry in files is present, but
     has an empty unid field (test added) 
   - deactivationdate and reactivationdate are emptied
     when not used (NULL)
   - sophomorix-teach-in rewritten to use postgresql
         function get_tech_in-sys-users in SophomorixPgLdap.pm
   - sophomorix-test rewritten to use postgresql
     (130 Tests are OK)
   - sophomorix-add add unid at once, if existent in schueler.txt
   - Replaced/New functions in SophomorixPgLdap.pm
      - connect and disconnect to database
      - create user
      - update user
      - get_sys_users
      - get_print_data
   - use postgresql database instead of files
   - added get_debconf_value to read from the debconf database
   - create packages sophomorix-pgldap and sophomorix-sys-pgldap
   - use module pgldap, when it is set in sophomorix.conf 

   - when a wish-login in lehrer.txt/schueler.txt is given multiple times:
      -> none of the users will be added
      -> error-message 
      -> report.admin entry is created 


1.2.1 (2005-04-08)
   - The following module-names are shown to students,teachers,admin: 
       ml_account  : Benutzerkonto     (alle students)
       ml_teacher  : Unterricht        (all teachers)
       ml_admin    : Administration    (all admins)
   - changed groupname teacher to teachers and /home/reachers
   - changed groupname student to students and /home/students
   - /home/pupil/ -> /home/students 
   - when a user is killed, 
       - move its line(s) from user-modify.log to user-modify-archive.log
          (speed up lookups in user-modify.log)
       - add a kill-entry to the archive to know when a user was killed.
   - history in archive is not sorted according date, it is sorted according users
     (is this fine?)
   - SophomorixBase.pm renamed: append_auto_teach_in_log --> append_teach_in_log
   - sophomorix-user -s string:
     information about webmin-account is displayed 
     (miniserv.users and webmin.acl)
   - sophomorix-add/-kill  call sophomorix-webmin to rewrite the webmin 
     user database (webmin.acl, miniserv.users) 
   - sophomorix-webmin --modules 
     (creates a list of all students/teachers and adds modules from 
      /usr/share/sophomorix/webmin/... to the users) 
   - new option for sophomorix-webmin:
       --loghost 0 / --loghost 1
     (0 makes webmin faster, if DNS is not working)
   - renamed "lehrer" to $DevelConf::teacher (50 times!)
     (seems to work so far)
   - created new file in tmp to pre-filter lehrer.txt:
      /var/lib/sophomorix/tmp/lehrer.txt.tmp
     in wich the grpname lehrer of lehrer.txt is converted to teacher     
   - renamed some files in checkresult:
      user.imsystem        --> sophomorix.system
      report.sekretariat   --> report.office
      report.gesperrt      --> report.filter
      klasse.schuelerzahl  --> AdminClass.students
      extrakurse.schueler  --> extrakurse.students
      schueler.txt.tausch  --> schueler.txt.tmp
   - sophomorix-teacher: --collect added (it worked once)
   - sophomorix-teacher: --handout added (still alpha)
   - no-restart option in sophomorix-webmin added
   - removed option --klassenintern in sophomorix-move 
   - add a user to miniserv.user, when she is added/deleted
   - add/remove a user to webmin.acl when she is added/deleted
   - add a user to webmin.groups when she is created 
     (students and teachers) or when she was created long ago
   - create new users with quota(checked)
   - made sophomorix.conf and sophomorix-devel.conf readable
     for script sophomorix-teacher
   - made tests in sophomorix-developer use the language files as well
   - documented synopsis of SophomorixAPI.pm
   - added various words to the language files
   - creted in /usr/share/sophomorix/lang language files (perl)
   - made a module for configuratuion data SophomorixConfig
   - created function in SophpmorixAPI that returns projects all 
     projects
   - created function in SophpmorixAPI that returns classes that 
     have subclasses
   - sophomorix-split 
     (when classes are split, create tasks and share dirs)
   - moved /home/share/tasks stuff to /home/tasks
     (consistent directory naming)
   - make sophomorix-setup-files create subclass_db
   - updated html-Documentation (some stuff is still missing)
   - sopho-man2html:
       - moved manpages of section 1 to a different directory 
         in the html-documentation
       - included man sophomorix-teacher in the package


1.2.0 (2005-03-09)
   - fixed bugs in sophomorix-test-extra 

   - sophomorix-webmin: added option --auto-logout

   - fixed sopho-man2html: 
         - use man pages of sophomorix-vampire
         - use manpages of scripts with multiple - in their names

   - SophomorixAPI
     - funktion zum schreiben der eingetragenen klassen
     - dito zum lesen, ascibetisch
     - funktion get_all_admin_classes (liest class_db aus)

  
   - sophomorix-teacher: first release
     adding, removing class from MyAdminClasses

   - sophomorix-webmin: make webmin accessable for every workstation
     /etc/webmin/miniserv.conf
       --all-hosts     
       --localhost     

   - sophomorix-vampire
     - workaround with numerical group id not needed anymore:
        every user and every group gets a new numerical id
     - pushing a vampire key to tho old server works
     - fetching a list of files works
     - adding users works
     - rsync homes works

   - sophomorix-check
     added option --use-uid
     added option --use-gid
     if you want to use the same numerical ids together with 
     --get-info-from-old-files

   - sophomorix-quota
     option --noninteractive added

   - first uncomplete sophomorix-vampire verion
     - distributed in package sophomorix-vampire
     - pushing a key and fetching files

   - Fixed Bug where sophomorix-print generated files in the directory 
     in wich it was called. This made the script abort without producing an error,
     when executed in a nfs mounted read-only filesystem.

   - sophomorix-user -s username
     added options zo the underlying quota command to
       - not show remote filesystems
       - show also unused filesystems

   - rename print-data 
        hinzu.*  -> add.* and others

   - made the database names comply with DBI (sql database table names 
     cannot have a point in them)
     i.e.  user.protokoll -> user_db
           projects.db    -> projects_db
           class.db       -> class_db
           subclasses     -> subclasses_db

   - made the directories under /var/lib/sophomorix international (names)
     i.e.:
      drucken   -> print-data
      pruefen   -> tmp  (because it is created on each run of sophomorix-check)
      dynconfig -> database
      ergebnis  -> check-result
     
   - added new script sophomorix-class and man page: 
      - -i shows all classes with info
      - --class classname --quota 200+20  sets the quota in database

   - function zeit_stempel: made easier(use ticks), instead of first 
                            writing to a tmp-file and rereading

   - renamed schulinfo.txt to class.db and moved it to the database files
     (renamed again later, see above)     

   - Bugfixes to sophomorix-project: 
         - Don't create links to root
         - Don't add root to unix-group of project

   - complete rewrite of sophomorix-quota to acommodate AddQuota of projects
     (option --sum still missing)
     Quotastring syntax simplified to gain speed:  i.e. 23+45
     (minus sign (-) or x is NOT SUPPORTED ANYMORE)

   - limit sophomorix-quota to (option names as in sophomotix-add) 
       - class(-c), 
       - login ...
       - room
       - ...

   - new function create_userlist($login,$class,$room, ...)
          function can be used in:
               - sophomorix-passwd
               - sophomorix-quota

   - replaced /home/schueler, ... with variables in sophomorix-quota

   - new command sophomorix-passwd (for root)
      - new passwords for all teacher, pupils
      - new password for classes, rooms
      - single users

   - moved all query function of sophomorix-repair to SophomorixAPI and 
     renaming them international

   - added a switch (--no-sync) in sophomorix-check to do/do not an auto-teach-in

   - replacement for sophomorix-teach-in finished

   - show login, admin-class and exit-admin-class when teaching-in

   - include/check new script sophomorix-repair

   - removed variable $samba_dir in repair.directories, ...(not used anymore)

   - The Filesystem under /home is controlled by variables in sophomorix-devel.conf
     repair.directories uses this variable to identify permissions

   - added a few directories under /home/samba

   - sophomorix-setup uses repair.directories to get permissions of directories

   - sophomorix-check with option get-info-from-old-files, that uses data from 
     a previous installation to add users with a former id, gid and login name.

   - option no-kclass disbles removing k from classnames in old group

1.1.6 (2005-01-21)

   - A lot of Bugfixes 



1.1.5 (2005-01-18)

   - First tagged release in the cvs














