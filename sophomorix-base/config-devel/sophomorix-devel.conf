#!/usr/bin/perl -w
# Dies (sophomorix-devel.conf) ist die globale Konfigurationsdatei für
# die Benutzerverwaltung sophomorix

# Diese Konfigurationsdatei muss in Perl-Syntax angelegt sein
# Wenn sie kein perl können nutzen Sie die auskommentierten 
# Beispiele (Kommentarzeichen: #)

# Es sind für alle Werte sinnvolle Standardeinstellungen vergeben


################################################################################
# In dieser Datei sollten sie als Netzwerkbetreuer NICHTS verändern !!!!!
################################################################################

# Prüfen, ob Debian
if (-e "/etc/debian_version") {
   $debian="yes";
} else {
   $debian="no";
}


# files:  /etc/passwd, /etc/group, ... user.protokoll
# ldap:   openldap-server (not availiable)
# mysql:  (not availiable)
# postgresql:  (not availiable)
$db_backend="files";

# files:  /etc/passwd, /etc/group, ... user.protokoll
# ldap:   openldap-server (not availiable)
# mysql:  (not availiable)
# postgresql:  (not availiable)
$sys_db="files";


# ldap benutzen?
# yes/no
#$ldap="no";


# Wo liegen die ausführbaren Programme/Scripte
$executable_pfad="/usr/sbin";


# Wo liegen die zu prüfenden Dateien schueler.txt und lehrer.txt
#$users_pfad="/usr/local/samba/users";
$users_pfad="/etc/sophomorix/user";


# Wo liegen die Konfigurationsdateien
$config_pfad="/etc/sophomorix/user";

# Wo liegen die Konfigurationsdateien
$config_template_pfad="/var/lib/sophomorix/config-templates";

# Wo wird das Ergebnis der Userüberprüfung gespeichert

# Wo liegt die erzeugte Schülerdatei der Schulverwaltung
$schueler_datei="/var/lib/sophomorix/pruefen/schueler.txt.tausch";

# Verzeichnis für anzuhängende Log-Infos
$log_files="/var/log/sophomorix";

# Verzeichnis für die Log-Dateien
$log_pfad="/var/log/sophomorix/user";

# Verzeichnis für die Log-Dateien
$log_pfad_ka="/var/log/sophomorix/klassenarbeit";


# Wo liegen die Entwickler-dateien
$devel_pfad="/etc/sophomorix/devel/user";

# Pfad zur sophomorix-lib
$library_pfad="/usr/sbin";


# Kompatibel zu versetzen.pl ("ja")
$kompatibel="nein";


# Verarbeiten
if($kompatibel eq "ja"){
    # Dateien mit dem string "schueler" benutzen
    $schueler_oder_user="schueler";
  } else {
    # Dateien mit dem string "user" benutzen
    $schueler_oder_user="user";
  }


# NEU
# Vom Script erzeugte Dateien
$var_lib_pfad="/var/lib/sophomorix";

# Verzeichnis für die Protokoll-Dateien (Benutzerdatenbank-Datei user.protokoll)
$protokoll_pfad="/var/lib/sophomorix/dynconfig";

# Vom Script erzeugte Dateien zum prüfen
$pruef_pfad="/var/lib/sophomorix/pruefen";

# Vom Script erzeugte Ergebnisdateien, die weiterverwendet werden
$dyn_config_pfad="/var/lib/sophomorix/dynconfig";

# Erzeugte Dateien die jedesmal gelöscht werden
$ergebnis_pfad="/var/lib/sophomorix/ergebnis";

# Drucken
$druck_pfad="/var/lib/sophomorix/drucken";

# Hier werden die Userdaten gesucht und abgelegt
$protokoll_datei="${protokoll_pfad}/${schueler_oder_user}.protokoll";

# Die Schüler-Subklassen-Datei, in der die User den Gruppen -a,-b,-c,-d 
# zugeordnet werden. 
$subklassen="${config_pfad}/schueler.subklassen";

# Globale Variable für Testmodus, der mit der Option --test gesetzt werden kann
$testen=0;

# Globale Variable für Systenmodus, der mit der Option --system gesetzt werden kann
$system=0;

# Globale Variable für Systenmodus, der mit der Option --system gesetzt werden kann
$kernel_update="nein";

# Globale Liste für quotasumme der einzelnen Filesysteme
@q_summe=(0,0,0,0,0,0,0,0,0,0); # funktioniert



# wegen Subklassenbildung mit Bindestrich, wird / mit nichts ersetzt
$ersetze_slash_mit=""; 


################################################################################
# Webserver
################################################################################

if ($debian eq "yes") {
   # Debian
   $apache_root="/var/www";
   $apache_user="www-data";
} else {
   # SuSE
   $apache_root="/usr/local/httpd/htdocs";
   $apache_user="wwwrun";
}


################################################################################
# Samba
################################################################################

if ($debian eq "yes") {
   # Debian
   # Wo liegen die Daten für samba (cds, netlogon, progs, ...)
   $samba_dir="/var/lib/samba";
   # Wo liegt im System die smb.conf
   $smb_conf="/etc/samba/smb.conf";
} else {
   # SuSE
   # Wo liegen die Daten für samba (cds, netlogon, progs, ...)
   $samba_dir="/usr/local/samba";
   # Wo liegt im System die smb.conf
   # Achtung gilt nur noch für die ML-Suse!!!
   $smb_conf="/etc/smb.conf";
}

# Wo werden von sophomorix-samba die Devel-smb.conf's gesucht
$devel_smb_conf="/etc/sophomorix/devel/samba";

# Wo werden von sophomorix-samba die Devel-smb.conf's gesucht
$user_smb_conf="/etc/sophomorix/samba";

# Wo werden von sophomorix-samba die netlogon-templates gesucht
$devel_netlogon_template="/var/lib/sophomorix/config-templates/samba/netlogon";

# Wohin kommen die netlogon.bat
$devel_netlogon_path="/home/samba/netlogon";



################################################################################
# Webmin
################################################################################
# rot
#$warn_color="bgcolor=#FF3300";
# orange
#$medium_color="bgcolor = #FF9966";
# grün
#$ok_color="bgcolor = #66FF99";





################################################################################
# Beginn
################################################################################

#print "sophomorix-devel.conf eingelesen \n\n";

################################################################################
# Ende
################################################################################


