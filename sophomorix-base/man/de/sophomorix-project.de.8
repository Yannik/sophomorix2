.\"                                      Hey, EMACS: -*- nroff -*-
.\" First parameter, NAME, should be all caps
.\" Second parameter, SECTION, should be 1-8, maybe w/ subsection
.\" other parameters are allowed: see man(7), man(1)
.TH SOPHOMORIX-PROJECT 8 "May 08, 2008"
.\" Please adjust this date whenever revising the manpage.
.\"
.\" Some roff macros, for reference:
.\" .nh        disable hyphenation
.\" .hy        enable hyphenation
.\" .ad l      left justify
.\" .ad b      justify to both left and right margins
.\" .nf        disable filling
.\" .fi        enable filling
.\" .br        insert line break
.\" .sp <n>    insert n+1 empty lines
.\" for manpage-specific macros, see man(7)
.SH NAME
sophomorix-project \- Projekte anlegen und verwalten
.SH SYNOPSIS
.B sophomorix-project
.RI [ options ]
.br
.SH DESCRIPTION
.B Ein von 
.B sophomorix-project
verwaltetes Projekt hat folgende Eigenschaften:
.br
     name:           Der Name des Projekts (unix groupname), 
.br
                         z.B.:  astro 
.br
     longname:       Der ausführliche Name des Projekts,  
.br
                         z.B.:  Astronomie-AG-2004
.br
     admins:         User mit Verwaltungsaufgaben im Projekt
.br
                         z.B.:  bz,kj,roes
.br
     members:        User, die dem Projekt angehören (admins gehören 
                     automatisch dazu)
.br
                         z.B.:  muellepe,maierjo
.br
     membergroups:   Primäre Gruppen (Schulklassen/Lehrer), 
                     deren Mitglieder dem Projekt angehören.
.br
                         z.B.:  12c,7a,teachers
.br
     memberprojects: Sekundäre Gruppen (Projekte), deren Mitglieder 
                     dem Projekt angehören.
.br
                         z.B.:  12c,7a,teachers
.br
     addquota:       Zuätzliches Festplatten-Quota in MB, das 
                     Mitglieder des Projekts bekommen.
.br
     addmailquota:   Zuätzliches Mail-Quota in MB, das Mitglieder 
                     des Projekts bekommen.
.br
                         z.B.:  40
.br
     maxmembers:     Maximale Anzahl von Mitgliedern, die ein User mit
                     Verwaltungsaufgaben (siehe admins) einem Projekt 
                     hinzufügen kann. 
                     Diese Grenze gilt nur, wenn AddQuota gesetzt ist.
.br
                         z.B.:  16
     mailalias:      Mailaliase erzeugen (1) oder nicht (0)
     maillist:       MailingListe erzeugen (1) oder nicht (0)
     joinable:       Alle Lehrer können die userliste ändern (1) 
                     oder nur Administratoren des Projekts (0)
.PP
.SH OPTIONS
.B sophomorix-project
benützt die GNU command line syntax, mit langen Optionen, die mit zwei Bindestrichen (`-') beginnen:
.TP
.B \-h, \-\-help
Kurzübersicht über Optionen, sowie eine Liste der eingelesenen Dateien.
.TP
.B \-v, \-\-verbose
Sagt, was das Programm gerade macht (verbose)
.TP
.B \-i, \-\-info
Informationen über alle Projekte (Übersicht).
.TP
.B \-\-admininfo
Informationen über alle admins und ihre Projekte.
.TP
.B \-\-tree
.br
Informationen über alle Projekte und ihre Mitgliedschaften.
.TP
.B \-i -p projektname
Informationen über das Projekt projektname.
.TP
.B \-vv, \-\-verbose \-\-verbose
Sagt ungeheuer genau, was das Programm gerade macht (very verbose)
.TP
.B \-p projektname, \-\-project projektname 
Bearbeitet das vorhandene Projekt projektname.
.TP
.B \-\-create 
Legt das mit -p projektname angegebene Projekt an, falls es noch nicht
existiert.
.TP
.B \-\-kill 
Löscht das mit -p projektname angegebene Projekt. Löscht ebenfalls die
Tausch- und Aufgabenverzeichnisse.
.TP
.B \-\-longname Projektname(Lang)
Aktualiesiert, bzw. legt das Projekt mit dem LongName Projektname
an. Wird bei einem neuen Projekt kein LongName angegeben, so wird Name
als LongName eingetragen.
.TP
.B \-\-admins user1,user2,user3, ... 
Trägt die übergebenen User als Verwalter in das Projekt ein. Bisher
vorhandene User werden ersetzt. Werden bei einem neuen Projekt keine
admins angegeben, so wird root eingetragen.
.br
Wollen sie aus einem Projekt alle admins entfernen, Müssen sie --admins "" angeben.
.TP
.B \-\-members user1,user2,user3, ... 
Trägt die übergebenen User als Mitglieder in das Projekt ein. Bisher
vorhandene User werden ersetzt. Werden bei einem neuen Projekt keine
members angegeben, so wird nichts eingetragen.
.br
Wollen sie aus einem Projekt alle User entfernen, Müssen sie --members "" angeben.
.TP
.B \-\-membergroups group1,group2,group3, ... 
Trägt alle Mitglieder (nicht admins) der übergebenen Gruppen als
Mitglieder in das Projekt ein. Bisher vorhandene Gruppen werden
ersetzt.
.br
Die Mitglieder der Gruppe werden automatisch von sophomorix
aktualisiert. Sie können NICHT einzeln entfernt werden.
.br
Werden bei einem neuen Projekt keine membergroups angegeben, so
wird nichts eingetragen.
.br
Als Gruppen können nur primäre Gruppen angegeben werden, also
sogenannte adminclasses, die in schueler.txt vorkommen (Also alle vom
Schulverwaltungsprogramm angelegten Klassen)
.br
Wollen sie aus einem Projekt alle Gruppen entfernen, Müssen sie
--membergroups "" angeben.
.TP
.B \-\-memberprojects project1,project2,project3, ... 
Trägt die Mitglieder (nicht admins) der übergebenen Projekte als
Mitglieder in das Projekt ein. Bisher vorhandene Projekte werden
ersetzt.
.br
Die Mitglieder des Mitgliedprojekts werden automatisch von sophomorix
aktualisiert. Sie können NICHT einzeln entfernt werden.
.br
Werden bei einem neuen Projekt keine memberprojects angegeben, so wird
nichts eingetragen.
.br
Wollen sie aus einem Projekt alle memberprojects entfernen, Müssen sie \
--memberprojects "" angeben.
.TP
.B \-\-addquota quotastring
Trägt den übergebenen quotastring als Zusatzquota in das Projekt ein
und überträgt diese Werte ins System. Der bisher vorhandene
quotastring wird ersetzt. Wird bei einem neuen Projekt kein AddQuota
angegeben, so wird 0 MB eingetragen.
.br
Wie der quotastring aussehen kann siehe:  
.B man sophomorix-quota
.TP
.TP
.B \-\-addmailquota number
Trägt die übergebene Zahl(integer) als zusätzliches Mail Quota (in MB)
in das Projekt ein, und überträgt den Wert ins System. Die bisher
vorhandene Zahl wird ersetzt. Wird bei einem neuen Projekt kein
addmailquota angegeben, so wird 0 MB eingetragen.
.TP
.B \-\-mailalias \-\-nomailalias
Trägt für alle Mitglieder dieses Projekts einen Mailalias ein
(Standardform: vorname.nachname)
.TP
.B \-\-maillist \-\-nomaillist
Trägt alle Mitglieder dieses Projekts in eine Mailingliste ein. Alle
Mitglieder sind somit unter dem Projektnamen UND dem langen
Projektnamen (LongName) erreichbar.
.TP
.B \-\-join \-\-nojoin
Setzt ein Projekt auf joinable oder nicht joinable. Wenn ein Projekt
nicht joinable ist, dann können nur die Administratoren des Projekts
die userliste ändern (d.h. mit der option --caller muss ein momentaner
administrator übergeben werden, auch als root)
.TP
.B \-\-caller user
Übergibt einen user. Abhängig von den Berechtigungen von user,
können manche Aktionen nicht durchgeführt werden (siehe
--join/--nojoin).
.TP
.B \-\-maxmembers anzahl
Trägt anzahl als maxmembers in das Projekt ein. Die bisher vorhandene
anzahl wird ersetzt. Wird bei einem neuen Projekt keine
maxmembers angegeben, so wird 0 eingetragen.
.br
Der Eintrag maxmembers dient zur Begrenzung der vergebenen addquota, und ist
nur wirksam, wenn AddQuota nicht 0  ist. Projekte, die mit denen
kein addquota gekoppelt ist (addquota=0), sind in ihrer Mitgliederanzahl praktisch
unbeschränkt (nur durch eine im Betriebsystem vohandene maximale
Gruppenmitgliedschaftanzahl)
.TP
.B Hinzunehmen und entfernen einzelner members, admins, groups und projects
.TP
.B --addmembers user1,user2,... --project Projekt
Fügt die Mitglieder user1,user2, ... dem Projekt hinzu.
.TP
.B --removemembers user1,user2,... --project Projekt
Entfernt die Mitglieder user1,user2,... aus dem Projekt. (Es werden
keine admins entfernt)
.TP
.B --addadmins user1,user2,... --project Projekt
Fügt die admins user1,user2,... dem Projekt hinzu.
.TP
.B --removeadmins user1,user2,... --project Projekt
Entfernt die admins user1,user2,... aus dem Projekt (auch als
members). Es werden keine members entfernt, die nicht auch admins
sind.
.TP
.B --addmembergroups gruppe1,gruppe2,... --project Projekt
Fügt die Gruppen gruppe1,gruppe2,... dem Projekt hinzu.
.TP
.B --removemembergroups gruppe1,gruppe2,... --project Projekt
Entfernt die Gruppen gruppe1,gruppe2,... aus dem Projekt.
.TP
.B --addmemberprojects project1,project2,... --project Projekt
Fügt die Projekte project1,project2,... dem Projekt hinzu.
.TP
.B --removeprojects project1,project2,... --project Projekt
Entfernt die Projekte project1,project2,... aus dem Projekt.
.TP
.B Projekte aus Dateien anlegen und verwalten
.TP
.B --dump file
liest alle Projekte aus und schreibt sie in file. 
.TP  
.B --create-from-file file
legt alle Projekte aus file an, falls sie noch nicht existieren. \
Wenn das Projekt schon existiert, wird keine Änderung vorgenommen.
.br
Wenn keine Datei angegeben wird, dann wird die Datei
.br
     /etc/sophomorix/project/projects.create
.br
benutzt. Diese Konfigurationsdatei ist dazu gedacht, dass bei einer Migration \
Projekte aus einem mit --dump erstellten Dump wieder angelegt und nicht mehr \
verändert  werden können.
.TP
.B --update-from-file file
legt alle Projekte aus file an, falls sie noch nicht existieren. \
Wenn das Projekt existiert, werden die Einstellungen und Mitglieder upgedated.
.br
Wenn keine Datei angegeben wird, dann wird die Datei
.br
     /etc/sophomorix/project/projects.update
.br
benutzt. Diese Konfigurationsdatei ist gedacht, dass root auf der Konsole Projekte\
anlegen und verwalten kann.
.TP
.B Syntax der Projektdateien:
.br
name::addquota::addmailquota::maxmembers::mailalias::maillist::status::joinable::admins::members::membergroups::memberprojects:: 
.TP
.SH SEE ALSO
.BR sophomorix (8),
.BR sophomorix-teach-in (8),
.BR sophomorix-search (8),
.BR sophomorix-add (8),
.BR sophomorix-move (8),
.BR sophomorix-print (8),
.BR sophomorix-kill (8),
.BR sophomorix-subclass (8),
.BR sophomorix-project (8),

.\".BR baz (1).
.\".br
.\"You can see the full options of the Programs by calling for example 
.\".IR "sophomrix-project -h" ,
.
.SH AUTHOR
Written by <jeffbeck@web.de> $Date$.
